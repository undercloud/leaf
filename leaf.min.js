!function(){"use strict";window.leaf=function(a){var b=!1,c=0,d=[],e=[],f=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],g="";"undefined"==typeof a&&(a={}),"undefined"!=typeof a.selfclosing&&(f=a.selfclosing),"undefined"!=typeof a.format&&(b=a.format),this.escape=function(a){var b=document.createElement("pre"),c=document.createTextNode(a);return b.appendChild(c),b.innerHTML},this.el=function(a){var h={},i="",j=arguments;switch(j.length){case 2:j[1]===Object(j[1])?h=j[1]:i=j[1];break;case 3:h=j[1],i=j[2]}a=a.replace(/(\.|\#|\:)([A-Za-z]+)/g,function(a,b,c){switch(b){case".":"undefined"!=typeof h["class"]?h["class"]+=" "+c:h["class"]=c;break;case"#":h.id=c;break;case":":-1!=["button","checkbox","file","hidden","image","password","radio","reset","submit","text"].indexOf(c)?h.type=c:-1!=["checked","disabled","readonly","required","multiple"].indexOf(c)&&(h[c]=c)}return""});var k=[];for(var l in h)if(h.hasOwnProperty(l))if("style"==l&&h[l]==Object(h[l])){var m=[];for(var n in h[l])h[l].hasOwnProperty(n)&&m.push(n+":"+h[l][n]);k.push(l+'="'+this.escape(m.join(";"))+'"')}else k.push(l+'="'+this.escape(h[l])+'"');var o="";if(!0===b)var p=new Array(c+1).join("  ");var q=-1!=f.indexOf(a);return!1===q&&(d.push(a),c++),!0===b&&(e.push(!1===q&&""!=i),o=c>1?"\n"+p:""),g+=o+"<"+a+(k.length?" "+k.join(" "):"")+(q?" />":">")+i,this},this.text=function(a){g+=a},this.end=function(){var a="";if(c--,!0===b){var f=new Array(c+1).join("  ");a=!1===e.pop()?"\n"+f:""}return g+=a+"</"+d.pop()+">",this},this.toString=function(){return g}}}();
