!function(){"use strict";window.leaf=function(a){var b=!1,c=0,d=[],e=[],f=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],g="";"undefined"==typeof a&&(a={}),"undefined"!=typeof a.selfclosing&&(f=a.selfclosing),"undefined"!=typeof a.format&&(b=a.format);var h=function(a){var b=document.createElement("pre"),c=document.createTextNode(a);return b.appendChild(c),b.innerHTML};this.el=function(a){var i={},j="",k=arguments;switch(k.length){case 2:k[1]===Object(k[1])?i=k[1]:j=k[1];break;case 3:i=k[1],j=k[2]}a=a.replace(/(\.|\#|\:)([A-Za-z]+)/g,function(a,b,c){switch(b){case".":"undefined"!=typeof i["class"]?i["class"]+=" "+c:i["class"]=c;break;case"#":i.id=c;break;case":":-1!=["button","checkbox","file","hidden","image","password","radio","reset","submit","text"].indexOf(c)?i.type=c:-1!=["checked","disabled","readonly","required","multiple"].indexOf(c)&&(i[c]=c)}return""});var l=[];for(var m in i)if(i.hasOwnProperty(m))if("style"==m&&i[m]==Object(i[m])){var n=[];for(var o in i[m])i[m].hasOwnProperty(o)&&n.push(o+":"+i[m][o]);l.push(m+'="'+h(n.join(";"))+'"')}else l.push(m+'="'+h(i[m])+'"');var p="";if(!0===b)var q=new Array(c+1).join("  ");var r=-1!=f.indexOf(a);return 0==r&&(d.push(a),c++),!0===b&&(e.push(0==r&&""!=j),p=c>1?"\n"+q:""),g+=p+"<"+a+(l.length?" "+l.join(" "):"")+(r?" />":">")+j,this},this.text=function(a){g+=a},this.end=function(){var a="";if(c--,!0===b){var f=new Array(c+1).join("  ");a=0==e.pop()?"\n"+f:""}return g+=a+"</"+d.pop()+">",this},this.toString=function(){return g}}}();
